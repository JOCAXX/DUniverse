<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Arquivos PDF (V2.3)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    ul { line-height: 1.8; }
  </style>
</head>
<body>

<h1>Arquivos PDF:</h1>
<ul id="pdf-list">Carregando...</ul>

<script>
  const usuario = "JOCAXX";
  const repositorio = "DUniverse";
  const pasta = "Todos";

  const apiURL = `https://api.github.com/repos/${usuario}/${repositorio}/contents/${pasta}`;
  const pagesBase = `https://${usuario}.github.io/${repositorio}/${pasta}/`;

  fetch(apiURL)
    .then(r => r.json())
    .then(files => {
      const list = document.getElementById("pdf-list");
      list.innerHTML = "";

      files
        .filter(f => f.name.toLowerCase().endsWith(".pdf"))
        .forEach(f => {
          const li = document.createElement("li");
          const a = document.createElement("a");

          // ?? AQUI ESTÁ A DIFERENÇA CRÍTICA
          a.href = pagesBase + encodeURIComponent(f.name);

          a.textContent = f.name;
          a.target = "_blank";
          a.rel = "noopener noreferrer";

          li.appendChild(a);
          list.appendChild(li);
        });

      if (!list.hasChildNodes()) {
        list.innerHTML = "<li>Nenhum PDF encontrado</li>";
      }
    })
    .catch(() => {
      document.getElementById("pdf-list").innerHTML =
        "<li>Erro ao carregar PDFs</li>";
    });
</script>

</body>
</html>
